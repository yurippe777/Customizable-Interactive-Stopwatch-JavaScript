<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Timer Example</title>
    <style>
        body {
            background-image: url('https://img.itch.zone/aW1nLzU4ODcxMzUucG5n/original/A%2B%2Fbft.png');
            background-size: cover;
            background-position: top;
            font-family: sans-serif;
            color: white;
            text-align: center;
        }
        h1 {
            font-size: 5rem;
            margin-top: 20vh;
        }
        input[type="number"] {
            width: 3rem;
            margin: 0 0.5rem;
        }
        button {
            margin-top: 1rem;
            background-color: white;
            color: #4CAF50;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
        }
        button:hover {
            background-color: #4CAF50;
            color: white;
        }
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <h1>00:00:00</h1>
    <label for="hours">Hours:</label>
    <input type="number" id="hours" min="0" max="23" placeholder="0">
    <label for="minutes">Minutes:</label>
    <input type="number" id="minutes" min="0" max="59" placeholder="0">
    <label for="seconds">Seconds:</label>
    <input type="number" id="seconds" min="0" max="59" placeholder="0">
    <br>
    <button id="start-button" onclick="startTimer()">Start</button>
    <button id="stop-button" onclick="stopTimer()" disabled>Stop</button>
    <button id="pause-button" onclick="pauseTimer()">Pause</button>
    <script>
        let hoursInput = document.getElementById('hours');
        let minutesInput = document.getElementById('minutes');
        let secondsInput = document.getElementById('seconds');
        let startButton = document.getElementById('start-button');
        let stopButton = document.getElementById('stop-button');
        let pauseButton = document.getElementById('pause-button');
        let pauseButtonClicks = 0;
        let timeLeft = 0;
        const timeString = 0;
        let timerInterval;
        let isPaused = false;

function startTimer() {
    pauseButton.disabled = false;
    if (timerInterval) {
        return;
    }

    let hours = hoursInput.value || 0;
    let minutes = minutesInput.value || 0;
    let seconds = secondsInput.value || 0;
    let totalTime = hours * 3600 + minutes * 60 + seconds * 1;
    let timerDisplay = document.querySelector('h1');

    // Call countdown() with totalTime as argument
    countdown(totalTime);

    startButton.disabled = true;
    stopButton.disabled = false; // enable stop button
    pauseButton.disabled = false; // enable pause button
    return
}


function countdown(totalTime) {
    startButton.disabled = true;
    let remainingTime = totalTime;
    let timerDisplay = document.querySelector('h1');

    timerInterval = setInterval(function() {
        remainingTime--;
        let remainingHours = Math.floor(remainingTime / 3600);
        let remainingMinutes = Math.floor((remainingTime % 3600) / 60);
        let remainingSeconds = remainingTime % 60;
        timerDisplay.innerText = `${remainingHours.toString().padStart(2, '0')}:${remainingMinutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;

        if (remainingTime <= 0) {
            clearInterval(timerInterval);
            timerDisplay.innerText = '00:00:00';
            startButton.disabled = false;
            pauseButton.disabled = false;
            alert('Timer finished!');
        }
    }, 1000);
    return
}
function stopTimer() {
    clearInterval(timerInterval);
    timerInterval = undefined;
    startButton.disabled = false;
    pauseButton.disabled = false;
    stopButton.disabled = true;
    let timerDisplay = document.querySelector('h1');
    timerDisplay.innerText = '00:00:00';
    return
}

function pauseTimer() {
    pauseButtonClicks++;
    startButton.disabled = true;
    if (pauseButtonClicks % 2 === 0) {
        resumeTimer();
    } else {
        pauseInterval();
    }
    return
}

function resumeTimer() {
  clearInterval(timerInterval);
  timerInterval = undefined;
  const timeString = document.querySelector('h1').innerText;
  const [hours, minutes, seconds] = timeString.split(':').map(Number);
  const timeLeft = hours * 3600 + minutes * 60 + seconds;
  //stopTimer();
  countdown(timeLeft)
  stopButton.disabled = false;
  pauseButton.innerText = 'Pause';
  return
}



function pauseInterval() {
    clearInterval(timerInterval);
    timerInterval = undefined;
    startButton.disabled = true;
    pauseButton.innerText = "Resume";
    timeLeft = parseInt(timerDisplay.textContent);

    return
}

pauseButton.disabled = true;
    </script>
</body>
</html>
